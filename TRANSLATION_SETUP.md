# إعداد خدمة الترجمة التلقائية

## المتطلبات

1. Python 3.7 أو أحدث
2. pip (مدير حزم Python)

## التثبيت

### 1. تثبيت التبعيات

```bash
# تثبيت التبعيات المطلوبة
pip install -r requirements.txt
```

### 2. تشغيل خدمة الترجمة

```bash
# تشغيل خدمة الترجمة
python translation_server.py
```

الخدمة ستعمل على `http://localhost:5001`

### 3. تشغيل التطبيق الرئيسي

```bash
# في terminal منفصل، شغل التطبيق الرئيسي
npm run dev
```

## كيف يعمل النظام

1. **الترجمة التلقائية**: عندما لا تتوفر ترجمة عربية، يقوم التطبيق بـ:
   - البحث عن ترجمة إنجليزية أو فرنسية أو أي ترجمة متاحة
   - إرسالها إلى خدمة Python للترجمة
   - استلام الترجمة العربية وعرضها تلقائياً

2. **Fallback**: في حالة عدم توفر خدمة Python، يستخدم التطبيق واجهة برمجة التطبيقات المجانية لـ Google Translate

3. **التحسينات**:
   - إزالة النقاط الزائدة من الترجمة العربية
   - الحفاظ على تنسيق ملفات SRT
   - عدم ترجمة النصوص المحاطة بـ [] أو التي تبدأ بـ ♪

## ملاحظات مهمة

- تأكد من تشغيل خدمة Python قبل استخدام التطبيق
- خدمة الترجمة تعمل على المنفذ 5001
- في حالة واجهة مشاكل، تحقق من سجلات الأخطاء في terminal

## استكشاف الأخطاء

### خطأ في الاتصال بخدمة الترجمة

```bash
# تحقق من تشغيل الخدمة
curl http://localhost:5001/health
```

### خطأ في تثبيت googletrans

```bash
# إذا واجهت مشاكل مع googletrans، جرب:
pip install googletrans==4.0.0rc1
# أو
pip install googletrans==3.1.0a0
```

### مشاكل CORS

إذا واجهت مشاكل CORS، تأكد من أن خدمة Python تعمل بشكل صحيح وأن flask-cors مثبت.
